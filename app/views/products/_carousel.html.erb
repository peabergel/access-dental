<!-- app/views/shared/_carousel.html.erb -->
<div data-controller="carousel" class="relative w-full max-w-6xl mx-auto">
  <div class="overflow-hidden shadow-lg p-5"  style="background-color: <%= brand.tertiary_color %> ;">
    <div data-carousel-target="slideContainer" class="flex transition-transform duration-300 ease-in-out">
        <div class="w-1/3 flex-shrink-0 p-5">
            <%= render "brand_card", brand: brand %>
        </div>
      <% brand.products.each do |product| %>
        <div class="w-1/3 flex-shrink-0 p-5">
            <%= render "product_card", product: product %>
        </div>
      <% end %>
    </div>
  </div>


<!-- Bouton précédent -->
<button
  data-action="click->carousel#prevSlide"
  data-carousel-target="prevButton"
  class="absolute top-1/2 -left-2 transform -translate-y-1/2 bg-opacity-50 p-3 transition-all hover:bg-opacity-75 w-10 h-10 flex items-center justify-center"
>
  <i class="fas fa-chevron-left text-xl" style="color: <%= brand.primary_color %> ;"></i>
</button>

<!-- Bouton suivant -->
<button
  data-action="click->carousel#nextSlide"
  data-carousel-target="nextButton"
  class="absolute top-1/2 -right-2 transform -translate-y-1/2 bg-opacity-50 p-3 transition-all hover:bg-opacity-75 w-10 h-10 flex items-center justify-center"
>
  <i class="fas fa-chevron-right text-xl" style="color: <%= brand.primary_color %> ;"></i>
</button>


<% number_of_slides = brand.products.count - 1 %> <!-- Nombre total de slides possibles -->
<div class="m-2 h-12 absolute -bottom-8 left-1/2 transform -translate-x-1/2 flex space-x-2">
  <% number_of_slides.times do |slide_index| %>
    <button
      data-action="click->carousel#goToSlide"
      data-carousel-slide-index="<%= slide_index %>"
      class="w-3 h-3 rounded-full bg-gray-300"
      data-carousel-target="indicator"
    ></button>
  <% end %>
</div>


</div>
